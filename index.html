
<!DOCTYPE HTML>

<html>

<head>
	<meta charset="utf-8">
	<title>王仙客的博客</title>
	<meta name="author" content="王仙客">

	
	<meta name="description" content="Jan 10th, 2015 UIImagePickerController Cause idleTimerDisabled Setting Problem 前一段时间，遇到了一个奇怪的问题：在程序里设置了idleTimerDisabled为YES，但是还是有用户反馈，程序会自动锁屏。 &hellip;">
	

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="/atom.xml" rel="alternate" title="王仙客的博客" type="application/atom+xml">
	
	<link rel="canonical" href="http://Hydra2050.github.io/">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link href="/stylesheets/font-awesome.min.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,700' rel='stylesheet' type='text/css'>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
  

</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
			<header id="header" class="inner"><div class="profilepic">
	
	<script src="/javascripts/md5.js"></script>
	<script type="text/javascript">
		$(function(){
			$('.profilepic').append("<img src='http://www.gravatar.com/avatar/" + MD5("wh2050@sina.cn") + "?s=160' alt='Profile Picture' style='width: 160px;' />");
		});
	</script>
	
</div>

<nav id="main-nav"><ul class="main">
	<p style="color:white;font-size:24px">王仙客的博客</p>
	<br>
	<p style="color:white;font-size:18px">明白一些道理</p>
	<p style="color:white;font-size:18px">遇到一些有趣的事</p>
	<br>
	<li><a href="/">博客</a></li>
	<li><a href="/blog/archives">所有文章</a></li>
	<li><a href="/blog/2013/12/04/about/">关于我</a></li>
</ul>

</nav>
<nav id="sub-nav">
	<div class="social">
		
			<a class="email" href="mailto:wh2050@sina.cn" title="Email">Email</a>
		
		
		
		
		
		
		
		
		
		
		
		
		
			<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
</nav>
</header>				
			</div>
		</div>	
		<div class="mid-col">
			
				
			
			<div class="mid-col-container">
				<div id="content" class="inner">
<div itemscope itemtype="http://schema.org/Blog">


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2015-01-10T10:48:27+08:00" data-updated="true" itemprop="datePublished">Jan 10<span>th</span>, 2015</time></div>
		<div class="tags">

</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2015/01/10/uiimagepickercontroller-cause-idletimerdisabled-setting-not-working/" itemprop="url">UIImagePickerController Cause idleTimerDisabled Setting Problem</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>前一段时间，遇到了一个奇怪的问题：在程序里设置了<code>idleTimerDisabled</code>为<code>YES</code>，但是还是有用户反馈，程序会自动锁屏。测试也曾反馈，曾经遇到过这个问题，但一直未找到重现方法。在Stackoverflow看到，与UIImagePickerController的使用有关。</p>

<h2>重现</h2>

<p>设置<code>idleTimerDisabled</code>为<code>YES</code>，创建UIImagePickerController，设置sourceType为<code>UIImagePickerControllerSourceTypeCamera</code>，然后弹出拍照页面。拍照页面关闭后，等待自动锁屏的出现。</p>

<h2>分析</h2>

<p>设置断点:</p>

<pre><code>-[UIApplication setIdleTimerDisabled:]
</code></pre>

<p><img src="/images/20150110_1.png" alt="idleTimer breakpoint" /></p>

<p>运行后会发现，在UIImagePickerController弹出的时候，进入一次断点。使用LLDB命令(因为我用的是arm64的机器，所以寄存器为x，如果是armv7，为r)：</p>

<pre><code>po $x0
&lt;UIApplication: 0x156e008e0&gt;

p (SEL)$x1
(SEL) $1 = "setIdleTimerDisabled:"

po $x2
1
</code></pre>

<p>在弹出UIImagePickerController的时候，系统会自动将<code>idleTimerDisabled</code>设置为<code>YES</code>。</p>

<p>继续运行，关闭UIImagePickerController，由于这只的animation为<code>YES</code>，会进入两次断点。两次的参数相同，都为<code>nil</code>。</p>

<pre><code>po $x2
nil
</code></pre>

<p>这就会将<code>idleTimerDisabled</code>设置为<code>NO</code>，导致之前设置的值被修改。</p>

<h2>解决</h2>

<p>目前想到的解决方法，在UIImagePickerController消失后，重新设置idleTimerDisabled为需要的值。</p>

<pre><code>#pragma mark - UIImagePickerControllerDelegate

- (void)imagePickerController:(UIImagePickerController *)picker         didFinishPickingMediaWithInfo:(NSDictionary *)info
{
    [self dismissViewControllerAnimated:YES completion:^{
    [self performSelector:@selector(resetIdleTimerDisabled) withObject:nil          afterDelay:1.0];
     }];
}

- (void)imagePickerControllerDidCancel:(UIImagePickerController *)picker
{
  [self dismissViewControllerAnimated:YES completion:^{
  [self performSelector:@selector(resetIdleTimerDisabled) withObject:nil        afterDelay:1.0];
   }];
}
</code></pre>

<p>参考：</p>

<p><a href="http://stackoverflow.com/questions/23391564/ios-idletimerdisabled-yes-works-only-until-imagepicker-was-used">http://stackoverflow.com/questions/23391564/ios-idletimerdisabled-yes-works-only-until-imagepicker-was-used</a></p>

<p><a href="http://www.objc.io/issue-19/">http://www.objc.io/issue-19/</a></p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2014-10-19T11:11:55+08:00" data-updated="true" itemprop="datePublished">Oct 19<span>th</span>, 2014</time></div>
		<div class="tags">

</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2014/10/19/mac-booksheng-ji-yosemiteyi-chang-de-jie-jue-fang-fa/" itemprop="url">Mac book升级Yosemite异常的解决方法</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>前天苹果更新新版桌面操作系统OS X Yosemite，版本号为OS X 10.10。兴匆匆地升级我的Mac book，等了好久，更新重启之后出现了下面这个画面：</p>

<p><img src="/images/20141019.jpg" alt="OooppP" /></p>

<p>解决方法很简单：</p>

<ul>
<li>第一步：长按关机键，然后重新启动，同时一直按住<code>alt</code>键</li>
<li>第二步：在出现的界面选择无线网络，并成功连接</li>
<li>第三部：按<code>command</code> ＋ <code>r</code>，进入网络恢复模式</li>
</ul>


<p>经过N久的等待，终于又恢复正常了，开始体验新的OS X —— Yosemite！</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2014-10-19T10:35:11+08:00" data-updated="true" itemprop="datePublished">Oct 19<span>th</span>, 2014</time></div>
		<div class="tags">

</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2014/10/19/the-python-challenge-level-3/" itemprop="url">The Python Challenge–Level 3</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>Level3地址：<a href="http://www.pythonchallenge.com/pc/def/equality.html">http://www.pythonchallenge.com/pc/def/equality.html</a></p>

<h2>分析</h2>

<p>提示文字：</p>

<pre><code>One small letter, surrounded by EXACTLY three big bodyguards on each of its sides.
</code></pre>

<p>根据上一次的经验，查看网页的源码，标题为<code>re</code>，看来和正则表达式有关系了。</p>

<p>网页源码里仍然有一段被注释的字符串，看来就要在这一串中找出两边大写中间小写字母的内容了。</p>

<h2>解决</h2>

<pre><code>text = ‘’’
       …
       ‘’’
import re
pattern = re.compile(r'[A-Z]{3}([a-z])[A-Z]{3}')
result = re.findall(pattern,text)
print(‘’.join(result))
</code></pre>

<p>发现打印出来很多结果，哪里出了问题？</p>

<p>再仔细看提示语：<code>EXACTLY</code>，必须是有且只有三个大写字母。</p>

<p>修改正则表达式：</p>

<pre><code>pattern = re.compile(r'[^A-Z][A-Z]{3}([a-z])[A-Z]{3}[^A-Z]')
</code></pre>

<p>输出：</p>

<pre><code>linkedlist
</code></pre>

<h2>其他解决方法</h2>

<p><a href="http://www.pythonchallenge.com/pcc/def/linkedlist.php">http://www.pythonchallenge.com/pcc/def/linkedlist.php</a></p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2014-10-19T09:15:54+08:00" data-updated="true" itemprop="datePublished">Oct 19<span>th</span>, 2014</time></div>
		<div class="tags">

</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2014/10/19/the-python-challenge-level-2/" itemprop="url">The Python Challenge–Level 2</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<h2>分析</h2>

<p>Level2的地址：<a href="http://www.pythonchallenge.com/pc/def/ocr.html">http://www.pythonchallenge.com/pc/def/ocr.html</a></p>

<p>文字提示<code>MAYBE they are in the page source</code></p>

<p>查看网页的源码，发现注释的部分：</p>

<pre><code>find rare characters in the mess below:
</code></pre>

<p>需要从那段内容中找出稀少的字符。</p>

<h2>解决</h2>

<pre><code>text = ‘’’
      …
       ‘’’
result = {}
for x in text:
    result[x] = result.get(x,0) + 1
print(result)
</code></pre>

<p>输出：</p>

<pre><code>{'(': 6154, ')': 6186, '*': 6034, '+': 6066, 'l': 1, 'i': 1, ' ': 4880, '!': 6079, '#': 6115, '$': 6046, '%': 6104, '&amp;': 6043, 'e': 1, 'y': 1, '{': 6046, '}': 6105, 'q': 1, 't': 1, 'u': 1, 'a': 1, '\n': 1221, '@': 6157, '[': 6108, ']': 6152, '^': 6030, '_': 6112}
</code></pre>

<p>发现最少的都是个数为1的字母，这样稍加改变：</p>

<pre><code>result = []
for x in text:
    if x.isalpha():
        result.append(x)
print(''.join(result))
</code></pre>

<p>输出：</p>

<pre><code>equality
</code></pre>

<h2>其他的解决方法</h2>

<p>按照惯例，查看解决方法：<a href="http://www.pythonchallenge.com/pcc/def/ocr.html">http://www.pythonchallenge.com/pcc/def/ocr.html</a></p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2014-10-11T21:46:08+08:00" data-updated="true" itemprop="datePublished">Oct 11<span>th</span>, 2014</time></div>
		<div class="tags">

</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2014/10/11/the-python-challenge-level-1/" itemprop="url">The Python Challenge&#8211;Level 1</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>Level 1的地址：<a href="http://www.pythonchallenge.com/pc/def/map.html">http://www.pythonchallenge.com/pc/def/map.html</a></p>

<h2>分析</h2>

<p>网页的标题为<code>What about making trans?</code>，然后再看图片：</p>

<pre><code>K -&gt; M
O -&gt; Q
E -&gt; G
</code></pre>

<p>应该是一个类似凯撒密码的字母移位，每个字母向后移动两位，而要处理的就是下面那段文字。</p>

<h2>解决</h2>

<p>代码如下：</p>

<pre><code>'''
Level 1
'''
text = '''
g fmnc wms bgblr rpylqjyrc gr zw fylb. rfyrq ufyr amknsrcpq ypc dmp. bmgle gr   gl zw fylb gq glcddgagclr ylb rfyr'q ufw rfgq rcvr gq qm jmle. sqgle    qrpgle.kyicrpylq() gq pcamkkclbcb. lmu ynnjw ml rfc spj.
'''
trans = ''
for x in text:
    trans += chr((ord(x) - ord('a') + 2)%26 + ord('a')) if x.isalpha() else x
print(trans)
</code></pre>

<p>输出结果：</p>

<pre><code>i hope you didnt translate it by hand. thats what computers are for. doing it in
by hand is inefficient and that's why this text is so long. using string.maketrans() 
is recommended. now apply on the url.
</code></pre>

<p>根据转化后的信息，处理url中的map进行同样的转换，获得新的url：<a href="http://www.pythonchallenge.com/pc/def/ocr.html">http://www.pythonchallenge.com/pc/def/ocr.html</a>，顺利进入下一关。</p>

<h2>str.maketrans()</h2>

<p>等等，仔细看转换后的信息，推荐使用string.maketrans()方法。</p>

<p>查找<a href="https://docs.python.org/3/">python3在线文档</a>，发现在python3.4后有所变化。</p>

<p>代码如下：</p>

<pre><code>''
use str.maketrans()
'''

import string

text = '''
g fmnc wms bgblr rpylqjyrc gr zw fylb. rfyrq ufyr amknsrcpq ypc dmp. bmgle gr   gl zw fylb gq glcddgagclr ylb rfyr'q ufw rfgq rcvr gq qm jmle. sqgle    qrpgle.kyicrpylq() gq pcamkkclbcb. lmu ynnjw ml rfc spj.
'''

dlist = string.ascii_lowercase
table = str.maketrans(dlist,dlist[2:] + dlist[:2])
print(text.translate(table))
</code></pre>

<p>首先，使用str.maketrans()方法生成一个映射表，从[A－Z]映射为[C-A]，打印<code>table</code>：</p>

<pre><code>{97: 99, 98: 100, 99: 101, 100: 102, 101: 103, 102: 104, 103: 105, 104: 106, 105: 107, 106: 108, 107: 109, 108: 110, 109: 111, 110: 112, 111: 113, 112: 114, 113: 115, 114: 116, 115: 117, 116: 118, 117: 119, 118: 120, 119: 121, 120: 122, 121: 97, 122: 98}
</code></pre>

<p>然后，调用translate()方法，将映射表作为参数。最终获取想要的结果。</p>

<p><code>str.maketrans()</code>的第一个和第二个参数长度必须相同，转换的时候一一对应；如果有第三个参数，将会转换为<code>None</code>。</p>

<pre><code>mm = 'abcdefg'
tb1 = str.maketrans('abcd','1234')
tb2 = str.maketrans('abcd','1234','ef')
print(mm.translate(tb1))
print(mm.translate(tb2))
</code></pre>

<p>输出结果：</p>

<pre><code>1234efg
1234g
</code></pre>

<h2>其他的解决方法</h2>

<p>进入下一个Level的页面，有一条tips，将当前url中的<code>pc</code>改为<code>pcc</code>就可以查看前一个Level的解决方法了。</p>

<p><a href="http://www.pythonchallenge.com/pcc/def/ocr.html">http://www.pythonchallenge.com/pcc/def/ocr.html</a></p>

<p>参考资料：</p>

<p><a href="https://docs.python.org/3/">Python documentation</a></p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2014-10-10T22:51:40+08:00" data-updated="true" itemprop="datePublished">Oct 10<span>th</span>, 2014</time></div>
		<div class="tags">

</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2014/10/10/the-python-challenge-level-0/" itemprop="url">The Python Challenge&#8211;Level 0</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<h2>引子</h2>

<p>最近空余时间，开始学习python，发现一个很有意思的网站：<a href="http://www.pythonchallenge.com/">pythonchallenge</a>。目前有33个挑战的级别，打算写一个系列的博客，记录下来学习的过程。那就从零开始吧！</p>

<h2>Level 0</h2>

<p>Level 0的地址：<a href="http://www.pythonchallenge.com/pc/def/0.html">http://www.pythonchallenge.com/pc/def/0.html</a></p>

<p>一张图片，上面写着2的38次方</p>

<pre><code>Hint: try to change the URL address.
</code></pre>

<p>使用python求2的38次方的值：</p>

<pre><code>2**38
</code></pre>

<p>或者：</p>

<pre><code>import math
pow(2,38)
</code></pre>

<p>或者：</p>

<pre><code>1 &lt;&lt; 38
</code></pre>

<p>得到结果：274877906944</p>

<p>根据提示，修改url为：<a href="http://www.pythonchallenge.com/pc/def/274877906944.html">http://www.pythonchallenge.com/pc/def/274877906944.html</a>。</p>

<p>这样就进入下一关了， ^_^)</p>

<p>参考资料：</p>

<p><a href="http://sebug.net/paper/books/dive-into-python3/index.html">深入 Python 3</a></p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2014-07-26T21:56:07+08:00" data-updated="true" itemprop="datePublished">Jul 26<span>th</span>, 2014</time></div>
		<div class="tags">

</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2014/07/26/iosshe-bei-zhua-bao-de-ji-chong-chang-yong-fang-fa/" itemprop="url">在Mac上iOS开发抓包的几种常用方法</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>在iOS开发中，经常需要抓包来查看网络请求、应答的情况，例如坚持服务端应答数据、服务端应答速度、客户端发生请求、流量检测、安全性检测等等。不论代码内如何实现，抓包能够最好的证实一切，往往可以更快地定位问题，解决问题。下面总结几种常用的抓包方法。</p>

<h2>使用charles抓包</h2>

<p>在mac下，<a href="http://www.charlesproxy.com/">charles</a>是一个非常好用的抓取http/https请求的工具。</p>

<p>限制条件：</p>

<ul>
<li>需要mac与iOS设备连接相同的无线网络</li>
<li>只能抓取http/https的数据包</li>
<li>无法抓取2G/3G/4G网络下得数据</li>
</ul>


<p>［注］：更多关于charles的使用方法参照<a href="http://www.charlesproxy.com/documentation/">http://www.charlesproxy.com/documentation/</a></p>

<h2>使用RVI（Remote Virtual Interface）+wireshark抓包</h2>

<p>在iOS5以后，Apple为iOS引入了RVI（Remote Virtual Interface），只要设备通过USB连接到Mac，就可以虚拟出一个远程端口，这样就可以在Mac上使用Wireshark抓取这个远程虚拟端口的数据包了。</p>

<p>限制条件：</p>

<ul>
<li>支持的设备系统iOS5以及之后</li>
</ul>


<h2>使用tcpdump命令抓包</h2>

<p>限制条件：</p>

<ul>
<li>需要iOS设备越狱</li>
</ul>


<h2>小结</h2>

<p>以上是平时常用到得几种抓包方法，各有优缺点，可以根据需要选择最方便的方法。</p>

<h2>参考资料</h2>

<p><a href="http://www.charlesproxy.com/">http://www.charlesproxy.com/</a></p>

<p><a href="http://www.charlesproxy.com/documentation/">http://www.charlesproxy.com/documentation/</a></p>

<p><a href="http://www.wireshark.org/">http://www.wireshark.org/</a></p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2014-02-16T18:28:08+08:00" data-updated="true" itemprop="datePublished">Feb 16<span>th</span>, 2014</time></div>
		<div class="tags">

</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2014/02/16/shi-yong-uimotioneffect/" itemprop="url">使用UIMotionEffect实现设备的倾斜视差</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>iOS7更新后，当倾斜手机的时候，会看到屏幕上的背景图片会随着手机的倾斜度而移动，产生视差。刚开始更新的时候，还以为是自己的错觉，－－！。</p>

<p>UIMotionEffect就像它的名字一样，处理motion effect。UIMotionEffect是一个抽象的基类，子类通过重写<code>keyPathsAndRelativeValuesForViewerOffset:</code>方法，当检测到动作的时候</p>

<p>苹果提供了一个子类UIInterpolatingMotionEffect，通过它我们可以实现对设备水平和竖直方向倾斜。</p>

<pre><code>UIInterpolatingMotionEffect *horizontalMotionEffect = [[UIInterpolatingMotionEffect alloc] initWithKeyPath:@"center.x" type:UIInterpolatingMotionEffectTypeTiltAlongHorizontalAxis];
horizontalMotionEffect.minimumRelativeValue = @(-50);
horizontalMotionEffect.maximumRelativeValue = @(50);
[redView addMotionEffect:horizontalMotionEffect];
</code></pre>

<p><a href="http://www.teehanlax.com/blog/introduction-to-uimotioneffect/">http://www.teehanlax.com/blog/introduction-to-uimotioneffect/</a>
<a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIMotionEffect_class/Reference/Reference.html#//apple_ref/doc/uid/TP40013376">https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIMotionEffect_class/Reference/Reference.html#//apple_ref/doc/uid/TP40013376</a>
<a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIMotionEffectGroup_class/Reference/Reference.html#//apple_ref/doc/uid/TP40013378">https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIMotionEffectGroup_class/Reference/Reference.html#//apple_ref/doc/uid/TP40013378</a></p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2014-01-18T22:02:46+08:00" data-updated="true" itemprop="datePublished">Jan 18<span>th</span>, 2014</time></div>
		<div class="tags">

</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2014/01/18/use-nslog-to-print-cgpoint-cgrect/" itemprop="url">如何使用NSLog打印CGPoint、CGSize、CGRect</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>平时调试程序的时候，经常会使用NSLog打印出来。当有CGPoint、CGSize、CGRect对象要打印时，一般要写成下面的方式：</p>

<pre><code>CGPoint point = CGPointMake(0, 20);
NSLog(@"Point: x=%f, y=%f", point.x, point.y);

CGSize size = CGSizeMake(200, 100);
NSLog(@"Size: w=%f, h=%f", size.width, size.height);

CGRect rect = CGRectMake(0, 0, 200, 100);
NSLog(@"Rect: x=%f, y=%f, w=%f, h=%f", rect.origin.x, rect.origin.y, rect.size.width, rect.size.height);
</code></pre>

<p>今天看到一篇文章：<a href="http://iosdevelopertips.com/debugging/how-to-use-nslog-to-debug-cgrect-and-cgpoint.html">How to Use NSLog to Debug CGRect and CGPoint</a>，才了解到有一些其他方便的方法。</p>

<pre><code>CGPoint point = CGPointMake(0, 20);
NSLog(@"Point: %@", NSStringFromCGPoint(point));

CGSize size = CGSizeMake(200, 100);
NSLog(@"Size: %@", NSStringFromCGSize(size));

CGRect rect = CGRectMake(0, 0, 200, 100);
NSLog(@"Rect: %@", NSStringFromCGRect(rect));
</code></pre>

<p>打印结果：</p>

<pre><code>Point: {0, 20}
Size: {200, 100}
Rect: \{\{0, 0\}, \{200, 100\}\}
</code></pre>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2014-01-18T21:55:51+08:00" data-updated="true" itemprop="datePublished">Jan 18<span>th</span>, 2014</time></div>
		<div class="tags">

</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2014/01/18/ioskai-fa-zhong-%5B%3F%5D-xie-chang-yong-de-hong-ding-yi/" itemprop="url">iOS开发中一些常用的宏定义</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>Debug输出：</p>

<pre><code>#ifdef DEBUG
    #define debug(format, ...) CFShow([NSString stringWithFormat:format, ## __VA_ARGS__]);
    #define debugAlert(format, ...)  {UIAlertView *alert = [[UIAlertView alloc] initWithTitle:[NSString stringWithFormat:@"%s\n line: %d ", __PRETTY_FUNCTION__, __LINE__] message:[NSString stringWithFormat:format, ##__VA_ARGS__]  delegate:nil cancelButtonTitle:@"Done" otherButtonTitles:nil]; [alert show]; [alert release];}
#else
    #define debug(format, ...) 
    #define debugAlert(format, ...)
#endif
</code></pre>

<p>检测是否支持ARC：</p>

<pre><code>#if __has_feature(objc_arc)
    // ARC
#else
    // No ARC
#endif
</code></pre>

<p><a href="http://iosdevelopertips.com/debugging/remove-debug-code-for-release-build.html">http://iosdevelopertips.com/debugging/remove-debug-code-for-release-build.html</a></p>

<p><a href="http://iosdevelopertips.com/debugging/display-debug-information-in-uialertview.html">http://iosdevelopertips.com/debugging/display-debug-information-in-uialertview.html</a></p>

		
		
	</div>

</article>

</div>
<nav id="pagenavi">
    
    
        <a href="/blog/page/2/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
			</div>
			<footer id="footer" class="inner">Copyright &copy; 2015

    王仙客


Design credit: <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a></footer>
			<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->






		</div>
	</div>
</body>
</html>
